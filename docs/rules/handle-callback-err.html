<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="ESLint中文, ESLint中文网, ESLint规则, ESLint配置, 代码检测, 代码质量, JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality">
  <meta name="description" content="ESLint中文官网, ESLint中英文对照, JavaScript代码检测, JavaScript代码风格检测, JavaScript代码自动格式化,A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">
  <meta name="theme-color" content="#463fd4"/>
  <meta property="og:locale" content="zh_CN">
  <meta property="og:site_name" content="ESLint中文">
  <meta property="og:title" content="handle-callback-err - Rules">
  <meta property="og:url" content="http://localhost:4000/docs/rules/handle-callback-err">
  <meta property="og:image" content="http://localhost:4000/img/favicon.512x512.png">

  <meta name="twitter:site" content="@geteslint">
  <meta name="twitter:title" content="handle-callback-err - Rules">
  <meta name="twitter:description" content="ESLint中文官网, ESLint中英文对照, JavaScript代码检测, JavaScript代码风格检测, JavaScript代码自动格式化,A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">
  <meta name="twitter:url" content="http://localhost:4000/docs/rules/handle-callback-err">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="http://localhost:4000/img/favicon.512x512.png">

    
        <title>handle-callback-err - Rules - ESLint中文</title>
    


  <link href="http://localhost:4000/docs/rules/handle-callback-err" rel="canonical" />
  <link rel="stylesheet" href="/styles/main.css"/>
  
  <link rel="stylesheet" href="/styles/mixed.css"/>
  
  <link rel='manifest' href='http://localhost:4000/manifest.json'>
  <link rel="icon" href="http://localhost:4000/img/favicon.512x512.png">
  <link rel="alternate" type="application/rss+xml" title="ESLint中文" href="http://localhost:4000/feed.xml">
  <!-- at the end of the HEAD -->
  <link rel="stylesheet" href="/styles/vendor/docsearch.min.css" />
</head>
<body>

<input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox" />
<header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner">
  <div class="container">

    <a href="http://localhost:4000/" class="navbar-brand"><img alt="ESLint" src="http://localhost:4000/img/logo.svg" itemprop="image">ESLint</a>

    <div class="eslint-navbar-toggles">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>
    </div>

    <nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar">
      
      <ul class="nav navbar-nav navbar-left">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="lang-chooser">中文</span><span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a class="lang-type" data-lang="zh" href="javascript:;">中文</a></li>
            <li><a class="lang-type" data-lang="mixed" href="javascript:;">中英文</a></li>
            <li><a class="lang-type" data-lang="en" href="javascript:;">英文</a></li>
          </ul>
        </li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="http://localhost:4000/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">用户指南<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/docs/user-guide/getting-started">开始</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/configuring">配置</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/command-line-interface">命令行</a></li>
            <li><a href="http://localhost:4000/docs/rules/">规则</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/formatters">Formatters</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/integrations">集成</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="http://localhost:4000/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">开发指南<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/docs/developer-guide/architecture">架构</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/source-code">源码</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/development-environment">开发环境</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/contributing">参与</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/unit-tests">单元测试</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-rules">创建规则</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-custom-formatters">自定义格式化器</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-custom-parsers">自定义解析器</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-plugins">开发插件</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/shareable-configs">可共享的配置</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/nodejs-api">Node.js API</a></li>
            <li><a href="http://localhost:4000/docs/maintainer-guide">维护者指南</a></li>
          </ul>
        </li>
        <li><a href="http://localhost:4000/blog/">博客</a></li>
        <li class="dropdown">
          <a href="http://localhost:4000/demo" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">演示<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/demo/">ESLint Demo</a></li>
            <li><a href="http://localhost:4000/parser/">Espree Demo</a></li>
          </ul>
        </li>
        <!-- <li><a href="http://localhost:4000/docs/about/">About</a></li> -->
        <li class="dropdown">
          <a href="http://localhost:4000/docs/about/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">关于<span
              class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/users/">谁在使用 ESLint?</a></li>
            <li><a href="http://localhost:4000/team/">关于 Team</a></li>
            <li><a href="http://localhost:4000/docs/about/">关于 ESLint</a></li>
          </ul>
        </li>
      </ul>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>

      <div class="navbar-form navbar-right eslint-search" role="search">
        <div class="input-group">
          <label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label>
          <div class="eslint-search-input-wrapper">
            <input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs...">
            <label for="eslint-toggle-search" class="eslint-toggle-search-close">
              <span class="sr-only">Close search</span>
              <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
            </label>
          </div>
        </div>
      </div>
    </nav>

  </div><!-- /.container -->
</header><!-- /.navbar -->

<main class="doc lang-zh">
  <article class="container">
    <!-- Note: No pull requests accepted for this file. See README.md in the root directory for details. -->

<h1 id="enforce-callback-error-handling-handle-callback-err">Enforce Callback Error Handling (handle-callback-err)</h1>

<h1 id="强制回调错误处理-handle-callback-err">强制回调错误处理 (handle-callback-err)</h1>

<p>In Node.js, a common pattern for dealing with asynchronous behavior is called the callback pattern.</p>

<p>在 Node.js 中，最普遍的处理异步行为是回调模式。</p>

<p>This pattern expects an <code class="language-plaintext highlighter-rouge">Error</code> object or <code class="language-plaintext highlighter-rouge">null</code> as the first argument of the callback.</p>

<p>这个模式期望一个 <code class="language-plaintext highlighter-rouge">Error</code> 对象或 <code class="language-plaintext highlighter-rouge">null</code> 作为回调的第一个参数。</p>

<p>Forgetting to handle these errors can lead to some really strange behavior in your application.</p>

<p>如果忘记处理这些错误会导致你的应用程序出现一些非常奇怪的行为。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span> <span class="c1">// forgot to handle error</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="rule-details">Rule Details</h2>

<p>This rule expects that when you’re using the callback pattern in Node.js you’ll handle the error.</p>

<p>该规则期望当你在 Node.js 中使用回调模式时，你将处理错误。</p>

<h2 id="options">Options</h2>

<p>The rule takes a single string option: the name of the error parameter. The default is <code class="language-plaintext highlighter-rouge">"err"</code>.</p>

<p>该规则只有一个字符串选项：错误参数的名称。默认是 <code class="language-plaintext highlighter-rouge">err</code>。</p>

<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule with the default <code class="language-plaintext highlighter-rouge">"err"</code> parameter name:</p>

<p>默认参数 <code class="language-plaintext highlighter-rouge">"err"</code> 的 <strong>错误</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint handle-callback-err: "error"*/</span>

<span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

</code></pre></div></div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule with the default <code class="language-plaintext highlighter-rouge">"err"</code> parameter name:</p>

<p>默认参数 <code class="language-plaintext highlighter-rouge">"err"</code> 的 <strong>正确</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint handle-callback-err: "error"*/</span>

<span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">generateError</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule with a sample <code class="language-plaintext highlighter-rouge">"error"</code> parameter name:</p>

<p>参数 <code class="language-plaintext highlighter-rouge">"error"</code> 的 <strong>正确</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint handle-callback-err: ["error", "error"]*/</span>

<span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="regular-expression">regular expression</h3>

<p>Sometimes (especially in big projects) the name of the error variable is not consistent across the project,
so you need a more flexible configuration to ensure that the rule reports all unhandled errors.</p>

<p>有时候（特别是在大项目中）错误变量名不都一致在整个项目中，所以你需要一个更加灵活的配置去确保未处理的错误得到此规则的认可。</p>

<p>If the configured name of the error variable begins with a <code class="language-plaintext highlighter-rouge">^</code> it is considered to be a regexp pattern.</p>

<p>如果错误变量的配置名以 <code class="language-plaintext highlighter-rouge">^</code> 开头被认为是一个正则模式。</p>

<ul>
  <li>If the option is <code class="language-plaintext highlighter-rouge">"^(err|error|anySpecificError)$"</code>, the rule reports unhandled errors where the parameter name can be <code class="language-plaintext highlighter-rouge">err</code>, <code class="language-plaintext highlighter-rouge">error</code> or <code class="language-plaintext highlighter-rouge">anySpecificError</code>.</li>
  <li>如果这个选项是 <code class="language-plaintext highlighter-rouge">"^(err|error|anySpecificError)$"</code>，当参数名为 <code class="language-plaintext highlighter-rouge">err</code>, <code class="language-plaintext highlighter-rouge">error</code> or <code class="language-plaintext highlighter-rouge">anySpecificError</code> 时，该规则会报告有未处理的错误。</li>
  <li>If the option is <code class="language-plaintext highlighter-rouge">"^.+Error$"</code>, the rule reports unhandled errors where the parameter name ends with <code class="language-plaintext highlighter-rouge">Error</code> (for example, <code class="language-plaintext highlighter-rouge">connectionError</code> or <code class="language-plaintext highlighter-rouge">validationError</code> will match).</li>
  <li>如果这个选项是 <code class="language-plaintext highlighter-rouge">"^.+Error$"</code>，当参数名以 <code class="language-plaintext highlighter-rouge">Error</code> 结尾时（例如，<code class="language-plaintext highlighter-rouge">connectionError</code> 或 <code class="language-plaintext highlighter-rouge">validationError</code>），该规则会报告有未处理的错误。</li>
  <li>If the option is <code class="language-plaintext highlighter-rouge">"^.*(e|E)rr"</code>, the rule reports unhandled errors where the parameter name matches any string that contains <code class="language-plaintext highlighter-rouge">err</code> or <code class="language-plaintext highlighter-rouge">Err</code> (for example, <code class="language-plaintext highlighter-rouge">err</code>, <code class="language-plaintext highlighter-rouge">error</code>, <code class="language-plaintext highlighter-rouge">anyError</code>, <code class="language-plaintext highlighter-rouge">some_err</code> will match).</li>
  <li>如果这个选项是 <code class="language-plaintext highlighter-rouge">"^.*(e|E)rr"</code>，当参数名匹配任何字符串中含有 <code class="language-plaintext highlighter-rouge">err</code> 或 <code class="language-plaintext highlighter-rouge">Err</code>的（例如，err<code class="language-plaintext highlighter-rouge">，</code>error<code class="language-plaintext highlighter-rouge">，</code>anyError<code class="language-plaintext highlighter-rouge">，</code>some_err`）该规则会报告有未处理的错误。</li>
</ul>

<h2 id="when-not-to-use-it">When Not To Use It</h2>

<p>There are cases where it may be safe for your application to ignore errors, however only ignore errors if you are
confident that some other form of monitoring will help you catch the problem.</p>

<p>如果一些情况下忽略错误处理并不影响应用的安全，并且你相信一些其他形式的监督将帮助你发现问题，这时可以不使用此规则。</p>

<h2 id="further-reading">Further Reading</h2>

<ul>
  <li><a href="https://github.com/maxogden/art-of-node#callbacks">The Art Of Node: Callbacks</a></li>
  <li><a href="https://docs.nodejitsu.com/articles/errors/what-are-the-error-conventions/">Nodejitsu: What are the error conventions?</a></li>
</ul>

<h2 id="version">Version</h2>

<p>This rule was introduced in ESLint 0.4.5.</p>

<p>该规则在 ESLint 0.4.5 被引入。</p>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/handle-callback-err.js">Rule source</a></li>
  <li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/handle-callback-err.md">Documentation source</a></li>
</ul>

  </article>
</main>

    <hr>

    <div class="container">

      <footer>
        <ul class="list-inline">
          
            <li><a href="https://github.com/eslint/eslint/edit/master/docs/rules/handle-callback-err.md">Edit this page</a></li>
          
          <li><a href="https://groups.google.com/group/eslint">Mailing List</a></li>
          <li><a href="https://github.com/eslint/eslint">GitHub</a></li>
          <li><a href="https://twitter.com/geteslint">Twitter</a></li>
          <li><a href="https://gitter.im/eslint/eslint">Chat Room</a></li>
          <li>Copyright JS Foundation and other contributors, <a href="https://js.foundation">https://js.foundation/</a></li>
        </ul>
      </footer>
    </div><!-- /.container -->

  <link href="/styles/vendor/font.css" rel="stylesheet">
  <script src="/js/vendor/jquery-1.10.2.min.js" defer></script>
  <script src="/js/vendor/bootstrap-native.min.js" defer></script>
  <script src="/js/vendor/anchor.min.js"></script>
      <!-- at the end of the BODY -->
  <script type="text/javascript" src="/js/vendor/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
    apiKey: '891b0e977d96c762a3821e0c00172ac9',
    indexName: 'eslint',
    inputSelector: '#eslint-search-input',
    algoliaOptions: { 'facetFilters': [["tags:docs", "tags:blog"]] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
  var htmlClassList = document.documentElement.classList;
  htmlClassList.remove("no-js");
  htmlClassList.add("js");
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      anchors.add('.doc h2, .doc h3, .doc h4, .blog h2, .blog h3, .blog h4');
      
	
	    var langs = {mixed: '中英文',zh: '中文',en: '英文'};
	    var last = localStorage.getItem('lang') || 'zh';

	    if (last in langs) {
	      $('.lang-chooser').html(langs[last]); 
	      $('.doc').removeClass(function(index,clz){
	          return clz.slice(3);
	      }).addClass('lang-' + last);
	    }

	    $('.navbar-left').show();

	    $('.lang-type').on('click', function() {
	        var $this = $(this),
	            type = $this.data('lang'),
	            lang = $this.html();

	        localStorage.setItem('lang', type);

	        $('.lang-chooser').html(lang); 
	        $('.doc').removeClass(function(index,clz){
	            return clz.slice(3);
	        }).addClass('lang-' + type);
	    });
	
  });
	
  </script>
  <style type="text/css">#cnzz_stat_icon_1278836435 {display: none;}</style>
  <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278836435'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278836435%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
  
</body>
</html>

