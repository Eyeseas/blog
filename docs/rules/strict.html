<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="ESLint中文, ESLint中文网, ESLint规则, ESLint配置, 代码检测, 代码质量, JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality">
  <meta name="description" content="ESLint中文官网, ESLint中英文对照, JavaScript代码检测, JavaScript代码风格检测, JavaScript代码自动格式化,A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">
  <meta name="theme-color" content="#463fd4"/>
  <meta property="og:locale" content="zh_CN">
  <meta property="og:site_name" content="ESLint中文">
  <meta property="og:title" content="strict - Rules">
  <meta property="og:url" content="http://localhost:4000/docs/rules/strict">
  <meta property="og:image" content="http://localhost:4000/img/favicon.512x512.png">

  <meta name="twitter:site" content="@geteslint">
  <meta name="twitter:title" content="strict - Rules">
  <meta name="twitter:description" content="ESLint中文官网, ESLint中英文对照, JavaScript代码检测, JavaScript代码风格检测, JavaScript代码自动格式化,A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">
  <meta name="twitter:url" content="http://localhost:4000/docs/rules/strict">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="http://localhost:4000/img/favicon.512x512.png">

    
        <title>strict - Rules - ESLint中文</title>
    


  <link href="http://localhost:4000/docs/rules/strict" rel="canonical" />
  <link rel="stylesheet" href="/styles/main.css"/>
  
  <link rel="stylesheet" href="/styles/mixed.css"/>
  
  <link rel='manifest' href='http://localhost:4000/manifest.json'>
  <link rel="icon" href="http://localhost:4000/img/favicon.512x512.png">
  <link rel="alternate" type="application/rss+xml" title="ESLint中文" href="http://localhost:4000/feed.xml">
  <!-- at the end of the HEAD -->
  <link rel="stylesheet" href="/styles/vendor/docsearch.min.css" />
</head>
<body>

<input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox" />
<header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner">
  <div class="container">

    <a href="http://localhost:4000/" class="navbar-brand"><img alt="ESLint" src="http://localhost:4000/img/logo.svg" itemprop="image">ESLint</a>

    <div class="eslint-navbar-toggles">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>
    </div>

    <nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar">
      
      <ul class="nav navbar-nav navbar-left">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="lang-chooser">中文</span><span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a class="lang-type" data-lang="zh" href="javascript:;">中文</a></li>
            <li><a class="lang-type" data-lang="mixed" href="javascript:;">中英文</a></li>
            <li><a class="lang-type" data-lang="en" href="javascript:;">英文</a></li>
          </ul>
        </li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="http://localhost:4000/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">用户指南<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/docs/user-guide/getting-started">开始</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/configuring">配置</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/command-line-interface">命令行</a></li>
            <li><a href="http://localhost:4000/docs/rules/">规则</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/formatters">Formatters</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/integrations">集成</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="http://localhost:4000/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">开发指南<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/docs/developer-guide/architecture">架构</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/source-code">源码</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/development-environment">开发环境</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/contributing">参与</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/unit-tests">单元测试</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-rules">创建规则</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-custom-formatters">自定义格式化器</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-custom-parsers">自定义解析器</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-plugins">开发插件</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/shareable-configs">可共享的配置</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/nodejs-api">Node.js API</a></li>
            <li><a href="http://localhost:4000/docs/maintainer-guide">维护者指南</a></li>
          </ul>
        </li>
        <li><a href="http://localhost:4000/blog/">博客</a></li>
        <li class="dropdown">
          <a href="http://localhost:4000/demo" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">演示<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/demo/">ESLint Demo</a></li>
            <li><a href="http://localhost:4000/parser/">Espree Demo</a></li>
          </ul>
        </li>
        <!-- <li><a href="http://localhost:4000/docs/about/">About</a></li> -->
        <li class="dropdown">
          <a href="http://localhost:4000/docs/about/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">关于<span
              class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/users/">谁在使用 ESLint?</a></li>
            <li><a href="http://localhost:4000/team/">关于 Team</a></li>
            <li><a href="http://localhost:4000/docs/about/">关于 ESLint</a></li>
          </ul>
        </li>
      </ul>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>

      <div class="navbar-form navbar-right eslint-search" role="search">
        <div class="input-group">
          <label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label>
          <div class="eslint-search-input-wrapper">
            <input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs...">
            <label for="eslint-toggle-search" class="eslint-toggle-search-close">
              <span class="sr-only">Close search</span>
              <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
            </label>
          </div>
        </div>
      </div>
    </nav>

  </div><!-- /.container -->
</header><!-- /.navbar -->

<main class="doc lang-zh">
  <article class="container">
    <!-- Note: No pull requests accepted for this file. See README.md in the root directory for details. -->

<h1 id="require-or-disallow-strict-mode-directives-strict">require or disallow strict mode directives (strict)</h1>

<h1 id="要求或禁止使用严格模式指令-strict">要求或禁止使用严格模式指令 (strict)</h1>

<p class="fixable icon">The <code class="language-plaintext highlighter-rouge">--fix</code> option on the <a href="../user-guide/command-line-interface#fixing-problems">command line</a> can automatically fix some of the problems reported by this rule.</p>

<p class="fixable icon"><a href="../user-guide/command-line-interface#fixing-problems">命令行</a>中的 <code class="language-plaintext highlighter-rouge">--fix</code> 选项可以自动修复一些该规则报告的问题。</p>

<p>A strict mode directive is a <code class="language-plaintext highlighter-rouge">"use strict"</code> literal at the beginning of a script or function body. It enables strict mode semantics.</p>

<p>严格模式指令是在脚本或函数体开始位置放置一个 <code class="language-plaintext highlighter-rouge">"use strict"</code> 字面量。它启用了严格模式语义。</p>

<p>When a directive occurs in global scope, strict mode applies to the entire script:</p>

<p>当指令出现在全局作用域，严格模式指令适用于整个脚本：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// strict mode</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// strict mode</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When a directive occurs at the beginning of a function body, strict mode applies only to that function, including all contained functions:</p>

<p>当指令出现在函数体开始位置，严格模式指令只适用于那个函数，包括其内部函数：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
    <span class="c1">// strict mode</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo2</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// not strict mode</span>
<span class="p">};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// strict mode</span>
    <span class="p">}</span>
<span class="p">}());</span>
</code></pre></div></div>

<p>In the <strong>CommonJS</strong> module system, a hidden function wraps each module and limits the scope of a “global” strict mode directive.</p>

<p>在 <strong>CommonJS</strong> 模块系统，a hidden function wraps each module and limits the scope of a “global” strict mode directive。</p>

<p>In <strong>ECMAScript</strong> modules, which always have strict mode semantics, the directives are unnecessary.</p>

<p>在 <strong>ECMAScript</strong> 模块中，总是处于严格模式语义下，严格模式指令也就没必要了。</p>

<h2 id="rule-details">Rule Details</h2>

<p>This rule requires or disallows strict mode directives.</p>

<p>该规则要求或禁止严格模式指令。</p>

<p>This rule disallows strict mode directives, no matter which option is specified, if ESLint configuration specifies either of the following as <a href="/docs/user-guide/configuring#specifying-parser-options">parser options</a>:</p>

<p>该规则禁止严格模式指令，无论指定了下面的哪个选项 <a href="/docs/user-guide/configuring#specifying-parser-options">parser options</a>：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"sourceType": "module"</code> that is, files are <strong>ECMAScript</strong> modules</li>
  <li><code class="language-plaintext highlighter-rouge">"sourceType": "module"</code> 也就是说，文件是 <strong>ECMAScript</strong> 模块</li>
  <li><code class="language-plaintext highlighter-rouge">"impliedStrict": true</code> property in the <code class="language-plaintext highlighter-rouge">ecmaFeatures</code> object</li>
  <li><code class="language-plaintext highlighter-rouge">"impliedStrict": true</code> <code class="language-plaintext highlighter-rouge">ecmaFeatures</code> 对象中的属性</li>
</ul>

<p>This rule disallows strict mode directives, no matter which option is specified, in functions with non-simple parameter lists (for example, parameter lists with default parameter values) because that is a syntax error in <strong>ECMAScript 2016</strong> and later. See the examples of the <a href="#function">function</a> option.</p>

<p>在有非常规参数列表（例如，有默认参数值）的函数中，不管指定的了什么选项，该规则禁止指定严格模式指令，因为 在 <strong>ECMAScript 2016</strong> 和以后的版本中将会报语法错误。查看<a href="#function">function</a> 选项。</p>

<p>The <code class="language-plaintext highlighter-rouge">--fix</code> option on the command line does not insert new <code class="language-plaintext highlighter-rouge">"use strict"</code> statements, but only removes unneeded statements.</p>

<p>命令行的 <code class="language-plaintext highlighter-rouge">--fix</code> 选项不会插入新的 <code class="language-plaintext highlighter-rouge">"use strict"</code> 语句，只会移除不再需要的语句。</p>

<h2 id="options">Options</h2>

<p>This rule has a string option:</p>

<p>该规则有一个字符串选项：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">"safe"</code> (default) corresponds either of the following options:</li>
  <li><code class="language-plaintext highlighter-rouge">"safe"</code> (默认) 对应下面的选项：
    <ul>
      <li><code class="language-plaintext highlighter-rouge">"global"</code> if ESLint considers a file to be a <strong>CommonJS</strong> module</li>
      <li><code class="language-plaintext highlighter-rouge">"global"</code> 如果 ESLint 认为一个文件是 <strong>CommonJS</strong> 模块</li>
      <li><code class="language-plaintext highlighter-rouge">"function"</code> otherwise</li>
      <li><code class="language-plaintext highlighter-rouge">"function"</code> 如果 ESLint 认为一个文件不是 <strong>CommonJS</strong> 模块</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">"global"</code> requires one strict mode directive in the global scope (and disallows any other strict mode directives)</li>
  <li><code class="language-plaintext highlighter-rouge">"global"</code> 要求在全局作用域下有一个严格模式指令（不允许任何其它严格模式指令）</li>
  <li><code class="language-plaintext highlighter-rouge">"function"</code> requires one strict mode directive in each top-level function declaration or expression (and disallows any other strict mode directives)</li>
  <li><code class="language-plaintext highlighter-rouge">"function"</code> 要求在函数声明或表达式开始位置有一个严格模式指令（不允许任何其它严格模式指令）</li>
  <li><code class="language-plaintext highlighter-rouge">"never"</code> disallows strict mode directives</li>
  <li><code class="language-plaintext highlighter-rouge">"never"</code> 禁用严格模式指令</li>
</ul>

<h3 id="safe">safe</h3>

<p>The <code class="language-plaintext highlighter-rouge">"safe"</code> option corresponds to the <code class="language-plaintext highlighter-rouge">"global"</code> option if ESLint considers a file to be a <strong>Node.js</strong> or <strong>CommonJS</strong> module because the configuration specifies either of the following:</p>

<p>如果 ESLint 认为一个文件是 <strong>Node.js</strong> 或 <strong>CommonJS</strong> 模块，<code class="language-plaintext highlighter-rouge">"safe"</code> 选项就对应 <code class="language-plaintext highlighter-rouge">"global"</code> 选项，因为配置指定了下面中的一个：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">node</code> or <code class="language-plaintext highlighter-rouge">commonjs</code> <a href="/docs/user-guide/configuring#specifying-environments">environments</a></li>
  <li><code class="language-plaintext highlighter-rouge">node</code> 或 <code class="language-plaintext highlighter-rouge">commonjs</code> <a href="/docs/user-guide/configuring#specifying-environments">environments</a></li>
  <li><code class="language-plaintext highlighter-rouge">"globalReturn": true</code> property in the <code class="language-plaintext highlighter-rouge">ecmaFeatures</code> object of <a href="/docs/user-guide/configuring#specifying-parser-options">parser options</a></li>
  <li><code class="language-plaintext highlighter-rouge">"globalReturn": true</code> <a href="/docs/user-guide/configuring#specifying-parser-options">parser options</a> 的 <code class="language-plaintext highlighter-rouge">ecmaFeatures</code> 对象中的属性</li>
</ul>

<p>Otherwise the <code class="language-plaintext highlighter-rouge">"safe"</code> option corresponds to the <code class="language-plaintext highlighter-rouge">"function"</code> option. Note that if <code class="language-plaintext highlighter-rouge">"globalReturn": false</code> is explicitly specified in the configuration, the <code class="language-plaintext highlighter-rouge">"safe"</code> option will correspond to the <code class="language-plaintext highlighter-rouge">"function"</code> option regardless of the specified environment.</p>

<p>否则 <code class="language-plaintext highlighter-rouge">"safe"</code> 选项就对应 <code class="language-plaintext highlighter-rouge">"function"</code> 选项。注意，如果在配置中显示指定了 <code class="language-plaintext highlighter-rouge">"globalReturn": false</code>，则  <code class="language-plaintext highlighter-rouge">"safe"</code> 选项等同于 <code class="language-plaintext highlighter-rouge">"function"</code> 选项，不受限于所指定的环境。</p>

<h3 id="global">global</h3>

<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule with the <code class="language-plaintext highlighter-rouge">"global"</code> option:</p>

<p>选项 <code class="language-plaintext highlighter-rouge">"global"</code> 的 <strong>错误</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule with the <code class="language-plaintext highlighter-rouge">"global"</code> option:</p>

<p>选项 <code class="language-plaintext highlighter-rouge">"global"</code> 的 <strong>正确</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="function">function</h3>

<p>This option ensures that all function bodies are strict mode code, while global code is not. Particularly if a build step concatenates multiple scripts, a strict mode directive in global code of one script could unintentionally enable strict mode in another script that was not intended to be strict code.</p>

<p>该个选项确保所有的函数体都是严格模式代码，而全局代码不是。特别是如果一个构建步骤链接多个脚本，一个脚本中的全局作用域的严格模式指令会无意间启用另一个脚本的严格模式。</p>

<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule with the <code class="language-plaintext highlighter-rouge">"function"</code> option:</p>

<p>选项 <code class="language-plaintext highlighter-rouge">"function"</code> 的 <strong>错误</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "function"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Illegal "use strict" directive in function with non-simple parameter list.</span>
<span class="c1">// This is a syntax error since ES2016.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// We cannot write "use strict" directive in this function.</span>
<span class="c1">// So we have to wrap this function with a function with "use strict" directive.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule with the <code class="language-plaintext highlighter-rouge">"function"</code> option:</p>

<p>选项 <code class="language-plaintext highlighter-rouge">"function"</code> 的 <strong>正确</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}());</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

    <span class="k">return</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">};</span>
<span class="p">}());</span>
</code></pre></div></div>

<h3 id="never">never</h3>

<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule with the <code class="language-plaintext highlighter-rouge">"never"</code> option:</p>

<p>选项 <code class="language-plaintext highlighter-rouge">"never"</code> 的 <strong>错误</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule with the <code class="language-plaintext highlighter-rouge">"never"</code> option:</p>

<p>选项 <code class="language-plaintext highlighter-rouge">"never"</code> 的 <strong>正确</strong> 代码示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="earlier-default-removed">earlier default (removed)</h3>

<p class="removed icon">The default option (that is, no string option specified) for this rule was <strong>removed</strong> in ESLint v1.0. The <code class="language-plaintext highlighter-rouge">"function"</code> option is most similar to the removed option.</p>

<p class="removed icon">该规则的默认选项(即没有指定字符串选项)在 ESLint v1.0中 <strong>被移除</strong>。<code class="language-plaintext highlighter-rouge">"function"</code> 选项最类似于已删除的选项。</p>

<p>This option ensures that all functions are executed in strict mode. A strict mode directive must be present in global code or in every top-level function declaration or expression. It does not concern itself with unnecessary strict mode directives in nested functions that are already strict, nor with multiple strict mode directives at the same level.</p>

<p>此选项确保所有函数都在严格模式下执行。严格模式指令必须出现在全局代码中，或者在每个顶级函数声明或表达式中。它不关心嵌套函数中已经严格的不必要的严格模式指令，也不关心同一级别的多个严格模式指令。</p>

<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule with the earlier default option which has been removed:</p>

<p>已被删除的早期默认选项 <strong>错误</strong> 代码示例:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// "strict": "error"</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// "strict": "error"</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</code></pre></div></div>

<p class="correct icon">Examples of <strong>correct</strong> code for this rule with the earlier default option which has been removed:</p>

<p>已被删除的早期默认选项 <strong>正确</strong> 代码示例:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// "strict": "error"</span>

<span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// "strict": "error"</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// "strict": "error"</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</code></pre></div></div>

<h2 id="when-not-to-use-it">When Not To Use It</h2>

<p>In a codebase that has both strict and non-strict code, either turn this rule off, or <a href="/docs/user-guide/configuring">selectively disable it</a> where necessary. For example, functions referencing <code class="language-plaintext highlighter-rouge">arguments.callee</code> are invalid in strict mode. A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode#Differences_from_non-strict_to_strict">full list of strict mode differences</a> is available on MDN.</p>

<p>在既有严格模式也有非严格模式的代码库中，可以关闭此规则，或必要时<a href="/docs/user-guide/configuring">选择性地禁用严格模式</a>。例如，函数引用 <code class="language-plaintext highlighter-rouge">arguments.callee</code>在严格模式下是无效的。可以看一下 MDN 上的这篇文章<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode#Differences_from_non-strict_to_strict">《严格模式的区别》</a>。</p>

<h2 id="version">Version</h2>

<p>This rule was introduced in ESLint 0.1.0.</p>

<p>该规则在 ESLint 0.1.0 中被引入。</p>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/strict.js">Rule source</a></li>
  <li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/strict.md">Documentation source</a></li>
</ul>

  </article>
</main>

    <hr>

    <div class="container">

      <footer>
        <ul class="list-inline">
          
            <li><a href="https://github.com/eslint/eslint/edit/master/docs/rules/strict.md">Edit this page</a></li>
          
          <li><a href="https://groups.google.com/group/eslint">Mailing List</a></li>
          <li><a href="https://github.com/eslint/eslint">GitHub</a></li>
          <li><a href="https://twitter.com/geteslint">Twitter</a></li>
          <li><a href="https://gitter.im/eslint/eslint">Chat Room</a></li>
          <li>Copyright JS Foundation and other contributors, <a href="https://js.foundation">https://js.foundation/</a></li>
        </ul>
      </footer>
    </div><!-- /.container -->

  <link href="/styles/vendor/font.css" rel="stylesheet">
  <script src="/js/vendor/jquery-1.10.2.min.js" defer></script>
  <script src="/js/vendor/bootstrap-native.min.js" defer></script>
  <script src="/js/vendor/anchor.min.js"></script>
      <!-- at the end of the BODY -->
  <script type="text/javascript" src="/js/vendor/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
    apiKey: '891b0e977d96c762a3821e0c00172ac9',
    indexName: 'eslint',
    inputSelector: '#eslint-search-input',
    algoliaOptions: { 'facetFilters': [["tags:docs", "tags:blog"]] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
  var htmlClassList = document.documentElement.classList;
  htmlClassList.remove("no-js");
  htmlClassList.add("js");
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      anchors.add('.doc h2, .doc h3, .doc h4, .blog h2, .blog h3, .blog h4');
      
	
	    var langs = {mixed: '中英文',zh: '中文',en: '英文'};
	    var last = localStorage.getItem('lang') || 'zh';

	    if (last in langs) {
	      $('.lang-chooser').html(langs[last]); 
	      $('.doc').removeClass(function(index,clz){
	          return clz.slice(3);
	      }).addClass('lang-' + last);
	    }

	    $('.navbar-left').show();

	    $('.lang-type').on('click', function() {
	        var $this = $(this),
	            type = $this.data('lang'),
	            lang = $this.html();

	        localStorage.setItem('lang', type);

	        $('.lang-chooser').html(lang); 
	        $('.doc').removeClass(function(index,clz){
	            return clz.slice(3);
	        }).addClass('lang-' + type);
	    });
	
  });
	
  </script>
  <style type="text/css">#cnzz_stat_icon_1278836435 {display: none;}</style>
  <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278836435'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278836435%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
  
</body>
</html>

