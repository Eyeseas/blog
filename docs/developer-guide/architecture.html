<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="ESLint中文, ESLint中文网, ESLint规则, ESLint配置, 代码检测, 代码质量, JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality">
  <meta name="description" content="ESLint中文官网, ESLint中英文对照, JavaScript代码检测, JavaScript代码风格检测, JavaScript代码自动格式化,A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">
  <meta name="theme-color" content="#463fd4"/>
  <meta property="og:locale" content="zh_CN">
  <meta property="og:site_name" content="ESLint中文">
  <meta property="og:title" content="Architecture">
  <meta property="og:url" content="http://localhost:4000/docs/developer-guide/architecture">
  <meta property="og:image" content="http://localhost:4000/img/favicon.512x512.png">

  <meta name="twitter:site" content="@geteslint">
  <meta name="twitter:title" content="Architecture">
  <meta name="twitter:description" content="ESLint中文官网, ESLint中英文对照, JavaScript代码检测, JavaScript代码风格检测, JavaScript代码自动格式化,A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease.">
  <meta name="twitter:url" content="http://localhost:4000/docs/developer-guide/architecture">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="http://localhost:4000/img/favicon.512x512.png">

    
        <title>Architecture - ESLint中文</title>
    


  <link href="http://localhost:4000/docs/developer-guide/architecture" rel="canonical" />
  <link rel="stylesheet" href="/styles/main.css"/>
  
  <link rel="stylesheet" href="/styles/mixed.css"/>
  
  <link rel='manifest' href='http://localhost:4000/manifest.json'>
  <link rel="icon" href="http://localhost:4000/img/favicon.512x512.png">
  <link rel="alternate" type="application/rss+xml" title="ESLint中文" href="http://localhost:4000/feed.xml">
  <!-- at the end of the HEAD -->
  <link rel="stylesheet" href="/styles/vendor/docsearch.min.css" />
</head>
<body>

<input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox" />
<header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner">
  <div class="container">

    <a href="http://localhost:4000/" class="navbar-brand"><img alt="ESLint" src="http://localhost:4000/img/logo.svg" itemprop="image">ESLint</a>

    <div class="eslint-navbar-toggles">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>
    </div>

    <nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar">
      
      <ul class="nav navbar-nav navbar-left">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="lang-chooser">中文</span><span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a class="lang-type" data-lang="zh" href="javascript:;">中文</a></li>
            <li><a class="lang-type" data-lang="mixed" href="javascript:;">中英文</a></li>
            <li><a class="lang-type" data-lang="en" href="javascript:;">英文</a></li>
          </ul>
        </li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="http://localhost:4000/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">用户指南<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/docs/user-guide/getting-started">开始</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/configuring">配置</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/command-line-interface">命令行</a></li>
            <li><a href="http://localhost:4000/docs/rules/">规则</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/formatters">Formatters</a></li>
            <li><a href="http://localhost:4000/docs/user-guide/integrations">集成</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="http://localhost:4000/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">开发指南<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/docs/developer-guide/architecture">架构</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/source-code">源码</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/development-environment">开发环境</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/contributing">参与</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/unit-tests">单元测试</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-rules">创建规则</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-custom-formatters">自定义格式化器</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-custom-parsers">自定义解析器</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/working-with-plugins">开发插件</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/shareable-configs">可共享的配置</a></li>
            <li><a href="http://localhost:4000/docs/developer-guide/nodejs-api">Node.js API</a></li>
            <li><a href="http://localhost:4000/docs/maintainer-guide">维护者指南</a></li>
          </ul>
        </li>
        <li><a href="http://localhost:4000/blog/">博客</a></li>
        <li class="dropdown">
          <a href="http://localhost:4000/demo" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">演示<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/demo/">ESLint Demo</a></li>
            <li><a href="http://localhost:4000/parser/">Espree Demo</a></li>
          </ul>
        </li>
        <!-- <li><a href="http://localhost:4000/docs/about/">About</a></li> -->
        <li class="dropdown">
          <a href="http://localhost:4000/docs/about/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">关于<span
              class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="http://localhost:4000/users/">谁在使用 ESLint?</a></li>
            <li><a href="http://localhost:4000/team/">关于 Team</a></li>
            <li><a href="http://localhost:4000/docs/about/">关于 ESLint</a></li>
          </ul>
        </li>
      </ul>

      <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open">
        <span class="sr-only">Open search</span>
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </label>

      <div class="navbar-form navbar-right eslint-search" role="search">
        <div class="input-group">
          <label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label>
          <div class="eslint-search-input-wrapper">
            <input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs...">
            <label for="eslint-toggle-search" class="eslint-toggle-search-close">
              <span class="sr-only">Close search</span>
              <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
            </label>
          </div>
        </div>
      </div>
    </nav>

  </div><!-- /.container -->
</header><!-- /.navbar -->

<main class="doc lang-zh">
  <article class="container">
    <!-- Note: No pull requests accepted for this file. See README.md in the root directory for details. -->

<h1 id="architecture">Architecture</h1>

<p>At a high level, there are a few key parts to ESLint:</p>

<p>ESLint 有几个关键部分：</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bin/eslint.js</code> - this is the file that actually gets executed with the command line utility. It’s a dumb wrapper that does nothing more than bootstrap ESLint, passing the command line arguments to <code class="language-plaintext highlighter-rouge">cli</code>. This is intentionally small so as not to require heavy testing.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">bin/eslint.js</code> - 这个是命令行应用程序实际上执行的文件. 它仅仅是个封装，用来启动 ESLint，并向 <code class="language-plaintext highlighter-rouge">cli</code> 传递命令行参数。该文件有意保持很小，以免需要大量的测试。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/cli.js</code> - this is the heart of the ESLint CLI. It takes an array of arguments and then uses <code class="language-plaintext highlighter-rouge">eslint</code> to execute the commands. By keeping this as a separate utility, it allows others to effectively call ESLint from within another Node.js program as if it were done on the command line. The main call is <code class="language-plaintext highlighter-rouge">cli.execute()</code>. This is also the part that does all the file reading, directory traversing, input, and output.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/cli.js</code> - 这个是 ESLint CLI 的核心。它需要一个参数数组，然后使用 <code class="language-plaintext highlighter-rouge">eslint</code> 去执行相应的命令。通过保持这个文件作为一个单独的应用程序，它允许其他人在另外的 Node.js 程序中有效的调用 ESLint，就好像是在命令行上操作的一样。它最重要的函数是 <code class="language-plaintext highlighter-rouge">cli.execute()</code> 。它也扮演着读取文件、遍历目录，输入和输出的角色。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/linter.js</code> - this is the core Linter class that does code verifying based on configuration options. This file does no file I/O and does not interact with the <code class="language-plaintext highlighter-rouge">console</code> at all. For other Node.js programs that have JavaScript text to verify, they would be able to use this interface directly.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/linter.js</code> - 这是核心的 Linter 类，它根据配置选项进行代码验证。该文件不进行文件 I/O 操作，也不直接与命令行进行交互。对于其他需要进行 JavaScript 文本验证的 Node.js 程序，可以直接使用此接口。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/api.js</code> - this exposes an object that contains Linter, CLIEngine, RuleTester, and SourceCode.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/api.js</code> - 输出一个对象，包括 Linter、CLIEngine、RuleTester 和 SourceCode。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/testers/rule-tester.js</code> - this is a wrapper around Mocha, so that rules can be unit tested. This class lets us write consistently formatted tests for each rule that is implemented and be confident that each of the rules work. The RuleTester interface was modeled after Mocha and works with Mocha’s global testing methods. RuleTester can also be modified to work with other testing frameworks.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/testers/rule-tester.js</code> - 对 Mocha 进行了包装，以便对规则进行单元测试。这个类允许我们对每个规则编写一致的格式化的测试，以确保规则运行正常。RuleTester 接口参照了 Mocha，兼容 Mocha 全局测试方法。RuleTester 也可以与其他测试框架一起使用。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/util/source-code.js</code> - this contains a SourceCode class that is used to represent the parsed source code. It takes in source code and the Program node of the AST representing the code.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">lib/util/source-code.js</code> - 它包含了一个 SourceCode 类，用来展现解析后的源代码。它使用源码和 AST 作为参数。</p>
  </li>
</ul>

<h2 id="the-cli-object">The <code class="language-plaintext highlighter-rouge">cli</code> object</h2>

<p>The <code class="language-plaintext highlighter-rouge">cli</code> object is the API for the command line interface. Literally, the <code class="language-plaintext highlighter-rouge">bin/eslint.js</code> file simply passes arguments to the <code class="language-plaintext highlighter-rouge">cli</code> object and then sets <code class="language-plaintext highlighter-rouge">process.exitCode</code> to the returned exit code.</p>

<p><code class="language-plaintext highlighter-rouge">cli</code>对象是命令行接口的 API。事实上，<code class="language-plaintext highlighter-rouge">bin/eslint.js</code> 文件只是简单的将参数传递给 <code class="language-plaintext highlighter-rouge">cli</code> 对象，然后设置 <code class="language-plaintext highlighter-rouge">process.exitCode</code>，并返回退出码。</p>

<p>The main method is <code class="language-plaintext highlighter-rouge">cli.execute()</code>, which accepts an array of strings that represent the command line options (as if <code class="language-plaintext highlighter-rouge">process.argv</code> were passed without the first two arguments). If you want to run ESLint from inside of another program and have it act like the CLI, then <code class="language-plaintext highlighter-rouge">cli</code> is the object to use.</p>

<p>它的主要方法是 <code class="language-plaintext highlighter-rouge">cli.execute()</code> ，该方法接收一个代表命令行选项的字符串数组（就像传递少了前两个参数的 <code class="language-plaintext highlighter-rouge">process.argv</code>一样）。如果你想在另一程序里像 CLI 一样运行 ESLint，那么 <code class="language-plaintext highlighter-rouge">cli</code> 就是你要用到的对象。</p>

<p>This object’s responsibilities include:</p>

<p>这个对象的职责包括：</p>

<ul>
  <li>Interpreting command line arguments</li>
  <li>解释命令行参数</li>
  <li>Reading from the file system</li>
  <li>从文件系统读取文件</li>
  <li>Outputting to the console</li>
  <li>输出到控制台</li>
  <li>Outputting to the filesystem</li>
  <li>输出到文件系统</li>
  <li>Use a formatter</li>
  <li>使用一个格式化器</li>
  <li>Returning the correct exit code</li>
  <li>返回正确的退出码</li>
</ul>

<p>This object may not:</p>

<p>这个对象不能：</p>

<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">process.exit()</code> directly</li>
  <li>直接调用 <code class="language-plaintext highlighter-rouge">process.exit()</code></li>
  <li>Perform any asynchronous operations</li>
  <li>执行任何异步操作</li>
</ul>

<h2 id="the-cliengine-object">The <code class="language-plaintext highlighter-rouge">CLIEngine</code> object</h2>

<p>The <code class="language-plaintext highlighter-rouge">CLIEngine</code> type represents the core functionality of the CLI except that it reads nothing from the command line and doesn’t output anything by default. Instead, it accepts many (but not all) of the arguments that are passed into the CLI. It reads both configuration and source files as well as managing the environment that is passed into the <code class="language-plaintext highlighter-rouge">eslint</code> object.</p>

<p><code class="language-plaintext highlighter-rouge">CLIEngine</code> 类型代表 CLI 的核心功能，除了在默认情况下它不从命令行读取任何内容，也不输出任何内容。相反，它接受很多（不是全部）传递给 CLI 的参数。它读取配置文件和源码文件，同时也管理传递到 <code class="language-plaintext highlighter-rouge">eslint</code> 对象的环境。</p>

<p>The main method of the <code class="language-plaintext highlighter-rouge">CLIEngine</code> is <code class="language-plaintext highlighter-rouge">executeOnFiles()</code>, which accepts an array of file and directory names to run the linter on.</p>

<p><code class="language-plaintext highlighter-rouge">CLIEngine</code> 的主要方法是 <code class="language-plaintext highlighter-rouge">executeOnFiles()</code>，接收一个要被检查的文件和目录名的数组。</p>

<p>This object’s responsibilities include:</p>

<p>这个对象的职责包括：</p>

<ul>
  <li>Managing the execution environment for <code class="language-plaintext highlighter-rouge">eslint</code></li>
  <li>管理 <code class="language-plaintext highlighter-rouge">eslint</code> 的执行环境</li>
  <li>Reading from the file system</li>
  <li>从文件系统读取文件</li>
  <li>Loading rule definitions</li>
  <li>加载规则定义</li>
  <li>Reading configuration information from config files (including <code class="language-plaintext highlighter-rouge">.eslintrc</code> and <code class="language-plaintext highlighter-rouge">package.json</code>)</li>
  <li>从配置文件读取配置信息 (包括 <code class="language-plaintext highlighter-rouge">.eslintrc</code> 和 <code class="language-plaintext highlighter-rouge">package.json</code>)</li>
</ul>

<p>This object may not:</p>

<p>这个对象不能：</p>

<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">process.exit()</code> directly</li>
  <li>直接调用 <code class="language-plaintext highlighter-rouge">process.exit()</code></li>
  <li>Perform any asynchronous operations</li>
  <li>执行任何异步操作</li>
  <li>Output to the console</li>
  <li>输出到控制台</li>
  <li>Use formatters</li>
  <li>使用格式化器</li>
</ul>

<h2 id="the-eslint-object">The <code class="language-plaintext highlighter-rouge">eslint</code> object</h2>

<p>The main method of the <code class="language-plaintext highlighter-rouge">eslint</code> object is <code class="language-plaintext highlighter-rouge">verify()</code> and accepts two arguments: the source text to verify and a configuration object (the baked configuration of the given configuration file plus command line options). The method first parses the given text with <code class="language-plaintext highlighter-rouge">espree</code> (or whatever the configured parser is) and retrieves the AST. The AST is produced with both line/column and range locations which are useful for reporting location of issues and retrieving the source text related to an AST node, respectively.</p>

<p><code class="language-plaintext highlighter-rouge">eslint</code> 对象的主要方法是 <code class="language-plaintext highlighter-rouge">verify()</code>，接收两个参数：要验证的源码文本和一个配置对象（通过准备好的配置文件加命令行操作会生成配置）。该方法首先使用 <code class="language-plaintext highlighter-rouge">espree</code>（或配置的解析器） 解析获取的文本，检索 AST。AST 用来产生行/列和范围的位置，对报告问题的位置和检索与 AST 节点有关的源文本很有帮助。</p>

<p>Once the AST is available, <code class="language-plaintext highlighter-rouge">estraverse</code> is used to traverse the AST from top to bottom. At each node, the <code class="language-plaintext highlighter-rouge">eslint</code> object emits an event that has the same name as the node type (i.e., “Identifier”, “WithStatement”, etc.). On the way back up the subtree, an event is emitted with the AST type name and suffixed with “:exit”, such as “Identifier:exit” - this allows rules to take action both on the way down and on the way up in the traversal. Each event is emitted with the appropriate AST node available.</p>

<p>一旦AST是可用的，<code class="language-plaintext highlighter-rouge">estraverse</code> 被用来从上到下遍历 AST。在每个节点，<code class="language-plaintext highlighter-rouge">eslint</code>对象触发与该节点类型同名的一个事件（即 “Identifier”，”WithStatement” 等）。在回退到子树上时，一个带有 AST 类型名称和 “:exit” 后缀的事件被触发，比如 “Identifier:exit” - 这允许规则在正向和逆向遍历开始起作用。每个事件在恰当的 AST 节点可用时触发。</p>

<p>This object’s responsibilities include:</p>

<p>这个对象的职责包括：</p>

<ul>
  <li>Inspecting JavaScript code strings</li>
  <li>检查 JavaScript 代码字符串</li>
  <li>Creating an AST for the code</li>
  <li>为代码创建 AST</li>
  <li>Executing rules on the AST</li>
  <li>在AST上执行规则</li>
  <li>Reporting back the results of the execution</li>
  <li>报告执行的结果。</li>
</ul>

<p>This object may not:</p>

<p>这个对象不能：</p>

<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">process.exit()</code> directly</li>
  <li>直接调用 <code class="language-plaintext highlighter-rouge">process.exit()</code></li>
  <li>Perform any asynchronous operations</li>
  <li>执行任何异步操作</li>
  <li>Use Node.js-specific features</li>
  <li>使用 Node.js 特定的功能</li>
  <li>Access the file system</li>
  <li>访问文件系统</li>
  <li>Call <code class="language-plaintext highlighter-rouge">console.log()</code> or any other similar method</li>
  <li>调用 <code class="language-plaintext highlighter-rouge">console.log()</code> 或其他任何类似方法</li>
</ul>

<h2 id="rules">Rules</h2>

<p>Individual rules are the most specialized part of the ESLint architecture. Rules can do very little, they are simply a set of instructions executed against an AST that is provided. They do get some context information passed in, but the primary responsibility of a rule is to inspect the AST and report warnings.</p>

<p>独特的规则是 ESLint 架构中最专业的部分。规则能做的很少，它们只是对提供的 AST 执行的一组指令。它们获取以下传入的上下文信息，但主要职责是检查 AST，报告警告。</p>

<p>These objects’ responsibilities are:</p>

<p>这个对象的职责包括：</p>

<ul>
  <li>Inspect the AST for specific patterns</li>
  <li>检查 AST 特定的模式</li>
  <li>Reporting warnings when certain patterns are found</li>
  <li>当发现特定的模式时，报告警告</li>
</ul>

<p>These objects may not:</p>

<p>这个对象不能：</p>

<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">process.exit()</code> directly</li>
  <li>直接调用 <code class="language-plaintext highlighter-rouge">process.exit()</code></li>
  <li>Perform any asynchronous operations</li>
  <li>执行任何异步操作</li>
  <li>Use Node.js-specific features</li>
  <li>使用 Node.js 特定的功能</li>
  <li>Access the file system</li>
  <li>访问文件系统</li>
  <li>Call <code class="language-plaintext highlighter-rouge">console.log()</code> or any other similar method</li>
  <li>调用 <code class="language-plaintext highlighter-rouge">console.log()</code> 或其他任何类似方法</li>
</ul>

  </article>
</main>

    <hr>

    <div class="container">

      <footer>
        <ul class="list-inline">
          
            <li><a href="https://github.com/eslint/eslint/edit/master/docs/developer-guide/architecture.md">Edit this page</a></li>
          
          <li><a href="https://groups.google.com/group/eslint">Mailing List</a></li>
          <li><a href="https://github.com/eslint/eslint">GitHub</a></li>
          <li><a href="https://twitter.com/geteslint">Twitter</a></li>
          <li><a href="https://gitter.im/eslint/eslint">Chat Room</a></li>
          <li>Copyright JS Foundation and other contributors, <a href="https://js.foundation">https://js.foundation/</a></li>
        </ul>
      </footer>
    </div><!-- /.container -->

  <link href="/styles/vendor/font.css" rel="stylesheet">
  <script src="/js/vendor/jquery-1.10.2.min.js" defer></script>
  <script src="/js/vendor/bootstrap-native.min.js" defer></script>
  <script src="/js/vendor/anchor.min.js"></script>
      <!-- at the end of the BODY -->
  <script type="text/javascript" src="/js/vendor/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
    apiKey: '891b0e977d96c762a3821e0c00172ac9',
    indexName: 'eslint',
    inputSelector: '#eslint-search-input',
    algoliaOptions: { 'facetFilters': [["tags:docs", "tags:blog"]] },
    debug: false // Set debug to true if you want to inspect the dropdown
  });
  var htmlClassList = document.documentElement.classList;
  htmlClassList.remove("no-js");
  htmlClassList.add("js");
  </script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      anchors.add('.doc h2, .doc h3, .doc h4, .blog h2, .blog h3, .blog h4');
      
	
	    var langs = {mixed: '中英文',zh: '中文',en: '英文'};
	    var last = localStorage.getItem('lang') || 'zh';

	    if (last in langs) {
	      $('.lang-chooser').html(langs[last]); 
	      $('.doc').removeClass(function(index,clz){
	          return clz.slice(3);
	      }).addClass('lang-' + last);
	    }

	    $('.navbar-left').show();

	    $('.lang-type').on('click', function() {
	        var $this = $(this),
	            type = $this.data('lang'),
	            lang = $this.html();

	        localStorage.setItem('lang', type);

	        $('.lang-chooser').html(lang); 
	        $('.doc').removeClass(function(index,clz){
	            return clz.slice(3);
	        }).addClass('lang-' + type);
	    });
	
  });
	
  </script>
  <style type="text/css">#cnzz_stat_icon_1278836435 {display: none;}</style>
  <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1278836435'%3E%3C/span%3E%3Cscript src='https://s4.cnzz.com/z_stat.php%3Fid%3D1278836435%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
  
</body>
</html>

